# EKS Cluster Component Catalog
# Kubernetes infrastructure

components:
  terraform:
    cluster:
      metadata:
        component: cluster
        type: real
      vars:
        enabled: true
        name: "eks"
        cluster_version: "1.29"
        node_groups:
          main:
            instance_types:
              - "t3.medium"
            min_size: 2
            max_size: 10
            desired_size: 3
        addons:
          - name: vpc-cni
            version: "v1.16.0"
          - name: kube-proxy
            version: "v1.29.0"
          - name: coredns
            version: "v1.11.1"
        # Read from VPC component state
        vpc_id: !terraform.state vpc vpc_id
        subnet_ids: !terraform.state vpc private_subnet_ids
