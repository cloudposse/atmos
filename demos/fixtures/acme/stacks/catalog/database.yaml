# Database Component Catalog
# RDS/Aurora PostgreSQL

components:
  terraform:
    database:
      metadata:
        component: database
        type: real
      remote_state_backend_type: static
      remote_state_backend:
        static:
          endpoint: "acme-aurora-postgres.cluster-abc123.us-east-1.rds.amazonaws.com"
          reader_endpoint: "acme-aurora-postgres.cluster-ro-abc123.us-east-1.rds.amazonaws.com"
          port: 5432
      vars:
        enabled: true
        name: "aurora-postgres"
        engine: "aurora-postgresql"
        engine_version: "15.4"
        instance_type: "db.r6g.large"
        cluster_size: 2
        storage_encrypted: true
        deletion_protection: true
        skip_final_snapshot: false
        retention_period: 7
        backup_window: "03:00-04:00"
        maintenance_window: "Mon:04:00-Mon:05:00"
        # Read from VPC component state
        vpc_id: !terraform.state vpc vpc_id
        subnets: !terraform.state vpc private_subnet_ids
