---
version: "1.0"

# Tool version requirements
# Director will automatically download and install pinned versions
tools:
  atmos:
    version: "1.202.1"           # Required version (semver without 'v' prefix)
    source: "github"              # github = download from releases, local = copy from worktree
    install_dir: ".cache/bin"     # Where to install (relative to demos/)

# Global VHS settings (applied to all scenes unless overridden)
vhs:
  theme: "Monokai Vivid"
  font_family: "FiraCode Nerd Font"
  font_size: 14
  typing_speed: "40ms"
  width: 1400
  height: 800
  padding: 10
  framerate: 20
  shell: "bash"
  cursor_blink: false

# GIF optimization settings
optimization:
  gifsicle:
    enabled: true
    lossy: 80
    colors: 256
    optimize_level: 3

# Storage backend configuration
backend:
  type: "stream"  # Primary backend for videos; R2 used as fallback for GIF/PNG

  # Cloudflare Stream configuration (for MP4 videos)
  stream:
    # Credentials loaded from environment variables:
    # - CLOUDFLARE_ACCOUNT_ID
    # - CLOUDFLARE_STREAM_API_TOKEN
    # - CLOUDFLARE_CUSTOMER_SUBDOMAIN (optional, extracted from API response)

  # Cloudflare R2 configuration (for GIF/PNG images)
  r2:
    bucket_name: "cplive-cf-use1-prod-atmos-assets"
    prefix: "demos/"
    base_url: "https://pub-xxxxx.r2.dev/demos"  # Update with actual R2 public URL
    # Credentials loaded from environment variables:
    # - CLOUDFLARE_ACCOUNT_ID
    # - CLOUDFLARE_R2_ACCESS_KEY_ID
    # - CLOUDFLARE_R2_SECRET_ACCESS_KEY

  # GitHub Pages configuration
  gh_pages:
    branch: "gh-pages"
    path: "demos"
    base_url: "https://cloudposse.github.io/atmos/demos"

  # Future S3 support
  # s3:
  #   bucket: "atmos-demos"
  #   region: "us-east-1"
  #   prefix: "demos/"
  #   base_url: "https://d1234567890.cloudfront.net/demos"
