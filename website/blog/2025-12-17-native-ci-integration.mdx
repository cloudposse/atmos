---
slug: native-ci-integration
title: "Native CI Integration: Rich Plan Summaries Without Extra Actions"
authors: [osterman]
tags: [feature]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Atmos now has built-in CI integration that generates rich, tfcmt-style job summaries directly from `terraform plan` and `terraform apply`. No additional GitHub Actions requiredâ€”just add `--ci` to your commands.

<!--truncate-->

## Why This Matters

Previously, getting beautiful plan summaries in GitHub Actions required using separate actions like `github-action-atmos-terraform-plan` and `github-action-atmos-terraform-apply`. These worked well but added complexity to your workflows.

Now, Atmos handles everything natively. The same rich output you're used toâ€”resource badges, collapsible diffs, terraform outputsâ€”is generated directly by Atmos when running in CI mode.

## What You Get

- **Rich job summaries** with resource badges and collapsible diffs
- **Live status checks** showing "Plan in progress" / "Plan complete"
- **PR comments** with plan summaries
- **Terraform outputs** exported to `$GITHUB_OUTPUT`
- **Same command** works locally and in CI

## Quick Start

Here's a minimal workflow using [profiles](/cli/configuration/profiles) and [auth](/stacks/auth) with OIDC:

<Tabs>
<TabItem value="workflow" label="GitHub Actions Workflow" default>

```yaml
name: Terraform Plan

on:
  pull_request:
    branches: [main]

jobs:
  plan:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: read
    env:
      ATMOS_PROFILE: ci
      ATMOS_IDENTITY: plat-dev/admin
    steps:
      - uses: actions/checkout@v4
      - uses: cloudposse/github-action-setup-atmos@v2

      - name: Terraform Plan
        run: atmos terraform plan mycomponent -s dev-us-east-1
```

</TabItem>
<TabItem value="profile" label="profiles/ci/auth.yaml">

```yaml
auth:
  providers:
    github-oidc:
      kind: github/oidc
      region: us-east-2
      spec:
        audience: sts.amazonaws.com

  identities:
    plat-dev/admin:
      kind: aws/assume-role
      via:
        provider: github-oidc
      principal:
        assume_role: arn:aws:iam::111111111111:role/acme-plat-gbl-dev-terraform
```

</TabItem>
</Tabs>

That's it. Atmos detects GitHub Actions automatically and writes the plan summary to `$GITHUB_STEP_SUMMARY`.

## Example Output

```markdown
## ðŸ”„ Plan: `vpc` in `dev-us-east-1`

[![create](https://shields.io/badge/CREATE-3-success?style=for-the-badge)](#)
[![destroy](https://shields.io/badge/DESTROY-1-critical?style=for-the-badge)](#)

> [!CAUTION]
> **Terraform will delete resources!**

<details><summary>Plan: 3 to add, 0 to change, 1 to destroy</summary>

### Create
+ aws_vpc.main
+ aws_subnet.public[0]
+ aws_subnet.public[1]

### Destroy
- aws_security_group.deprecated

</details>
```

## Learn More

For complete configuration options, permissions reference, and advanced workflows, see the [CI Integration documentation](/cli/configuration/ci).
