<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # Here's how simple it is to organize your environemnts.
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # (but it's entirely configurable).
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> tree stacks/

<span style="font-weight:bold;color:blue;">stacks/</span>/
├── <span style="font-weight:bold;color:blue;">catalog</span>/
│   └── myapp.yaml
└── <span style="font-weight:bold;color:blue;">deploy</span>/
    ├── dev.yaml
    ├── prod.yaml
    └── staging.yaml

2 directories, 4 files


<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # Start by defining the baseline configuration for myapp.
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # This is the configuration that you want to import anytime you deploy your component.
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> cat stacks/catalog/myapp.yaml

     File: <span style="font-weight:bold;">stacks/catalog/myapp.yaml</span>
<span style="color:#404040;">   1</span> <span style="color:#d75f87;">components</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   2</span> <span style="color:#b5b5b5;">  </span><span style="color:#d75f87;">terraform</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   3</span> <span style="color:#b5b5b5;">    </span><span style="color:#d75f87;">myapp</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   4</span> <span style="color:#b5b5b5;">      </span><span style="color:#d75f87;">vars</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   5</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">location</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">Los Angeles</span>
<span style="color:#404040;">   6</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">lang</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">en</span>
<span style="color:#404040;">   7</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">format</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">v1</span>
<span style="color:#404040;">   8</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">options</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">'</span><span style="color:#87d787;">0T</span><span style="color:#87d787;">'</span>
<span style="color:#404040;">   9</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">units</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">m</span>


<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # Then we define each environment importing that baseline configuration.
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # Here's the the configuration for the 'dev' environment looks like...
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> cat stacks/deploy/dev.yaml

     File: <span style="font-weight:bold;">stacks/deploy/dev.yaml</span>
<span style="color:#404040;">   1</span> <span style="color:#d75f87;">vars</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   2</span> <span style="color:#b5b5b5;">  </span><span style="color:#d75f87;">stage</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">dev</span>
<span style="color:#404040;">   3</span> 
<span style="color:#404040;">   4</span> <span style="color:#d75f87;">import</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   5</span> <span style="color:#b5b5b5;">  </span><span style="color:#b5b5b5;">-</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">catalog/myapp</span>
<span style="color:#404040;">   6</span> 
<span style="color:#404040;">   7</span> <span style="color:#d75f87;">components</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   8</span> <span style="color:#b5b5b5;">  </span><span style="color:#d75f87;">terraform</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   9</span> <span style="color:#b5b5b5;">    </span><span style="color:#d75f87;">myapp</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">  10</span> <span style="color:#b5b5b5;">      </span><span style="color:#d75f87;">vars</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">  11</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">location</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">Stockholm</span>
<span style="color:#404040;">  12</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">format</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">v2</span>


<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # Define the configuration for the 'staging' environment.
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> cat stacks/deploy/staging.yaml

     File: <span style="font-weight:bold;">stacks/deploy/staging.yaml</span>
<span style="color:#404040;">   1</span> <span style="color:#d75f87;">vars</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   2</span> <span style="color:#b5b5b5;">  </span><span style="color:#d75f87;">stage</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">staging</span>
<span style="color:#404040;">   3</span> <span style="color:#b5b5b5;">  </span>
<span style="color:#404040;">   4</span> <span style="color:#d75f87;">import</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   5</span> <span style="color:#b5b5b5;">  </span><span style="color:#b5b5b5;">-</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">catalog/myapp</span>
<span style="color:#404040;">   6</span> 
<span style="color:#404040;">   7</span> <span style="color:#d75f87;">components</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   8</span> <span style="color:#b5b5b5;">  </span><span style="color:#d75f87;">terraform</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   9</span> <span style="color:#b5b5b5;">    </span><span style="color:#d75f87;">myapp</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">  10</span> <span style="color:#b5b5b5;">      </span><span style="color:#d75f87;">vars</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">  11</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">location</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">Los Angeles</span>
<span style="color:#404040;">  12</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">format</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">v1</span>


<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> # Finally, define the configuration for the 'prod' environment...
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> #
<span style="color:green;">demo-stacks/ </span><span style="font-weight:bold;filter: contrast(70%) brightness(190%);color:green;">&gt;</span> cat stacks/deploy/prod.yaml

     File: <span style="font-weight:bold;">stacks/deploy/prod.yaml</span>
<span style="color:#404040;">   1</span> <span style="color:#d75f87;">vars</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   2</span> <span style="color:#b5b5b5;">  </span><span style="color:#d75f87;">stage</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">prod</span>
<span style="color:#404040;">   3</span> <span style="color:#b5b5b5;">  </span>
<span style="color:#404040;">   4</span> <span style="color:#d75f87;">import</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   5</span> <span style="color:#b5b5b5;">  </span><span style="color:#b5b5b5;">-</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">catalog/myapp</span>
<span style="color:#404040;">   6</span> 
<span style="color:#404040;">   7</span> <span style="color:#d75f87;">components</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   8</span> <span style="color:#b5b5b5;">  </span><span style="color:#d75f87;">terraform</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">   9</span> <span style="color:#b5b5b5;">    </span><span style="color:#d75f87;">myapp</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">  10</span> <span style="color:#b5b5b5;">      </span><span style="color:#d75f87;">vars</span><span style="color:#b5b5b5;">:</span>
<span style="color:#404040;">  11</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">location</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">Los Angeles</span>
<span style="color:#404040;">  12</span> <span style="color:#b5b5b5;">        </span><span style="color:#d75f87;">format</span><span style="color:#b5b5b5;">:</span><span style="color:#b5b5b5;"> </span><span style="color:#87d787;">v1</span>
