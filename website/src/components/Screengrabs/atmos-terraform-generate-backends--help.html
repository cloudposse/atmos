
<span style="color:#afff00;"> </span><span style="color:#afff00;">█</span><span style="color:#afd700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7af00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff875f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span>
<span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7af00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff875f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f87;"> </span><span style="color:#ff0087;"> </span>
<span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;"> </span><span style="color:#d7af00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff875f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f87;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;"> </span>
<span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7d700;"> </span><span style="color:#d7af00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff875f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f87;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;"> </span>
<span style="color:#d7d700;">█</span><span style="color:#d7d700;">█</span><span style="color:#d7af00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;">█</span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;">█</span><span style="color:#ff8700;">█</span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff875f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f5f;">█</span><span style="color:#ff5f87;">█</span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff0087;">█</span><span style="color:#ff00af;"> </span>
<span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ffaf00;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff8700;"> </span><span style="color:#ff875f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f5f;"> </span><span style="color:#ff5f87;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff0087;"> </span><span style="color:#ff00af;"> </span><span style="color:#ff00af;"> </span><span style="color:#ff00af;"> </span><span style="color:#ff00af;"> </span>

This command generates the backend configuration files for all Terraform components in the Atmos environment.

<span style="text-decoration:underline;font-weight:bold;filter: contrast(70%) brightness(190%);color:teal;">Usage:</span>

  atmos terraform generate backends [flags]


<span style="text-decoration:underline;font-weight:bold;filter: contrast(70%) brightness(190%);color:teal;">Flags:</span>

        --components string       Only generate the backend files for the
                                  specified <span style="font-weight:bold;"> atmos </span> components (comma-separated
                                  values).

        --file-template string    Template for generating backend configuration
                                  files, supporting absolute/relative paths and
                                  context tokens (e.g., {tenant}, {environment},
                                  {component}). Subdirectories are created
                                  automatically. If not specified, files are
                                  written to corresponding Terraform component
                                  folders.

        --format string           Specify the output format. Supported formats:
                                  <span style="font-weight:bold;"></span><span style="font-weight:bold;"></span><span style="font-weight:bold;"> hcl </span>, <span style="font-weight:bold;"> json </span>, <span style="font-weight:bold;"> backend-config </span> (<span style="font-weight:bold;"> hcl </span> is
                                  default). (default <span style="font-weight:bold;"> hcl </span>)

    -h, --help                    help for backends

        --stacks string           Only process the specified stacks
                                  (comma-separated values), supporting top-level
                                  stack manifest paths or derived Atmos stack
                                  names


<span style="text-decoration:underline;font-weight:bold;filter: contrast(70%) brightness(190%);color:teal;">Global Flags:</span>

        --append-user-agent string    Sets the TF_APPEND_USER_AGENT environment
                                      variable to customize the User-Agent
                                      string in Terraform provider requests.
                                      Example: <span style="font-weight:bold;"> Atmos/1.192.0 (Cloud Posse;</span>
                                      <span style="font-weight:bold;"></span><span style="font-weight:bold;">+https://atmos.tools) </span>. This flag works
                                      with almost all commands.

        --base-path string            Base path for Atmos project

        --clone-target-ref            Clone the target reference with which to
                                      compare the current branch: atmos
                                      terraform  --affected
                                      --clone-target-ref=true
                                      If set to 'false' (default), the target
                                      reference will be checked out instead
                                      This requires that the target reference is
                                      already cloned by Git, and the information
                                      about it exists in the '.git' directory
                                      (default <span style="font-weight:bold;"> false </span>)

        --config stringSlice          Paths to configuration files
                                      (comma-separated or repeated flag)
                                      (default <span style="font-weight:bold;"> [] </span>)

        --config-path stringSlice     Paths to configuration directories
                                      (comma-separated or repeated flag)
                                      (default <span style="font-weight:bold;"> [] </span>)

        --dry-run                     Simulate the command without making any
                                      changes (default <span style="font-weight:bold;"> false </span>)

        --include-dependents          For each affected component, detect the
                                      dependent components and process them in
                                      the dependency order, recursively: atmos
                                      terraform  --affected
                                      --include-dependents (default <span style="font-weight:bold;"> false </span>)

        --init-pass-vars              Pass the generated varfile to <span style="font-weight:bold;"> terraform</span>
                                      <span style="font-weight:bold;"></span><span style="font-weight:bold;">init </span> using the <span style="font-weight:bold;"> --var-file </span> flag.
                                      OpenTofu supports passing a varfile to
                                      <span style="font-weight:bold;"></span><span style="font-weight:bold;"></span><span style="font-weight:bold;"> init </span> to dynamically configure backends
                                      (default <span style="font-weight:bold;"> false </span>)

        --logs-file string            The file to write Atmos logs to. Logs can
                                      be written to any file or any standard
                                      file descriptor, including '/dev/stdout',
                                      '/dev/stderr' and '/dev/null' (default
                                      <span style="font-weight:bold;"></span><span style="font-weight:bold;"></span><span style="font-weight:bold;"> /dev/stderr </span>)

        --logs-level string           Logs level. Supported log levels are
                                      Trace, Debug, Info, Warning, Off. If the
                                      log level is set to Off, Atmos will not
                                      log any messages (default <span style="font-weight:bold;"> Info </span>)

        --no-color                    Disable color output (default <span style="font-weight:bold;"> false </span>)

        --pager string                Enable pager for output (--pager or
                                      --pager=true to enable, --pager=false to
                                      disable, --pager=less to use specific
                                      pager)

        --process-functions           Enable/disable YAML functions processing
                                      in Atmos stack manifests when executing
                                      terraform commands (default <span style="font-weight:bold;"> true </span>)

        --process-templates           Enable/disable Go template processing in
                                      Atmos stack manifests when executing
                                      terraform commands (default <span style="font-weight:bold;"> true </span>)

    -q, --query string                Execute <span style="font-weight:bold;"> atmos terraform &lt;command&gt; </span> on the
                                      components filtered by a YQ expression, in
                                      all stacks or in a specific stack

        --redirect-stderr string      File descriptor to redirect <span style="font-weight:bold;"> stderr </span> to.
                                      Errors can be redirected to any file or
                                      any standard file descriptor (including
                                      <span style="font-weight:bold;"></span><span style="font-weight:bold;"></span><span style="font-weight:bold;"> /dev/null </span>)

        --ref string                  Git reference with which to compare the
                                      current branch: atmos terraform
                                       --affected --ref
                                      refs/heads/main. Refer to
                                      <span style="text-decoration:underline;"></span><span style="text-decoration:underline;"></span><span style="text-decoration:underline;">https://git-scm.com/book/en/v2/Git-Internals-Git-References</span>
                                      for more details

        --repo-path string            Filesystem path to the already cloned
                                      target repository with which to compare
                                      the current branch: atmos terraform
                                       --affected --repo-path
                                      &lt;path_to_already_cloned_repo&gt;

        --sha string                  Git commit SHA with which to compare the
                                      current branch: atmos terraform
                                       --affected --sha
                                      3a5eafeab90426bd82bf5899896b28cc0bab3073

        --skip stringSlice            Skip executing specific YAML functions in
                                      the Atmos stack manifests when executing
                                      terraform commands (default <span style="font-weight:bold;"> [] </span>)

        --skip-init                   Skip running <span style="font-weight:bold;"> terraform init </span> before
                                      executing terraform commands (default
                                      <span style="font-weight:bold;"></span><span style="font-weight:bold;"></span><span style="font-weight:bold;"> false </span>)

        --ssh-key string              Path to PEM-encoded private key to clone
                                      private repos using SSH: atmos terraform
                                       --affected --ssh-key
                                      &lt;path_to_ssh_key&gt;

        --ssh-key-password string     Encryption password for the PEM-encoded
                                      private key if the key contains a
                                      password-encrypted PEM block: atmos
                                      terraform  --affected
                                      --ssh-key &lt;path_to_ssh_key&gt;
                                      --ssh-key-password 

    -s, --stack string                The <span style="font-weight:bold;"> stack </span> flag specifies the environment
                                      or configuration set for deployment in
                                      Atmos CLI.

        --                            Use double dashes to separate
                                      Atmos-specific options from native
                                      arguments and flags for the command.


<span style="text-decoration:underline;font-weight:bold;filter: contrast(70%) brightness(190%);color:teal;">Examples:</span>

• Backend file template (the file path, file name, and file extension)
 <span style="font-weight:bold;">  $ atmos terraform generate backends --file-template {component-path}/{tenant}/{environment}-{stage}.tf.json --format json</span>
• Only process the specified stacks (comma-separated values), supporting top-level stack manifest paths or derived Atmos stack names
 <span style="font-weight:bold;">  $ atmos terraform generate backends --stacks orgs/cp/tenant1/staging/us-east-2,orgs/cp/tenant2/dev/us-east-2</span>
• Only generate the backend files for the specified <span style="font-weight:bold;"> atmos </span> components (comma-separated values).
 <span style="font-weight:bold;">  $ atmos terraform generate backends --file-template &lt;file_template&gt; --components &lt;component1&gt;,&lt;component2&gt;</span>
• Specify the format for the output file.
 <span style="font-weight:bold;">  $ atmos terraform generate backends --format=hcl|json|backend-config</span>

Use <span style="font-weight:bold;"> atmos terraform generate backends --help </span> for more information about a command.

