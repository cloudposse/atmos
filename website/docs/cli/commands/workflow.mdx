---
title: atmos workflow
sidebar_label: workflow
sidebar_class_name: command
sidebar_position: 20
description: Use this command to perform sequential execution of `atmos` and `shell` commands defined as workflow steps.
---
import Screengrab from '@site/src/components/Screengrab'
import Terminal from '@site/src/components/Terminal'
import Intro from '@site/src/components/Intro'
import ActionCard from '@site/src/components/ActionCard'
import PrimaryCTA from '@site/src/components/PrimaryCTA'
import DemoVideo from '@site/src/components/Video/DemoVideo'

<Intro>
Use this command to perform sequential execution of `atmos` and `shell` commands defined as workflow steps.
</Intro>

<DemoVideo id="workflow-run" title="atmos workflow" showCaption={false} />

<ActionCard title="Configure Workflows">
    Learn how to configure workflow paths and define workflow manifests in your atmos.yaml.
    <div>
      <PrimaryCTA to="/cli/configuration/workflows">Configuration Reference</PrimaryCTA>
    </div>
</ActionCard>

## Usage

<Screengrab title="atmos workflow --help" slug="atmos-workflow--help" />

An Atmos workflow is a series of steps that are run in order to achieve some outcome. Every workflow has a name and is
easily executed from the
command line by calling `atmos workflow`. Use workflows to orchestrate any number of commands. Workflows can call
any `atmos` subcommand (including
[Atmos Custom Commands](/cli/configuration/commands)), shell commands, and have access to the stack configurations.

:::note
You can use [Atmos Custom Commands](/cli/configuration/commands) in [Atmos Workflows](/workflows),
and [Atmos Workflows](/workflows)
in [Atmos Custom Commands](/cli/configuration/commands)
:::

## Examples

### Run a Workflow by Name

The simplest way to run a workflow is by name. Atmos will find it automatically:

```shell
# Run the "deploy" workflow
atmos workflow deploy

# Run the "plan-all-vpc" workflow
atmos workflow plan-all-vpc
```

### Interactive Workflow Selection

If multiple workflows share the same name across different workflow files, Atmos will present an interactive selector:

```shell
# If "deploy" exists in both networking.yaml and database.yaml,
# Atmos will prompt you to choose which one to run
atmos workflow deploy
```

### Explicit File Selection

Use the `--file` / `-f` flag to explicitly select which workflow file to use:

```shell
# Run "deploy" from the networking workflow file
atmos workflow deploy --file networking

# Short form
atmos workflow deploy -f networking

# Run with dry-run to preview steps
atmos workflow apply-all-components -f networking --dry-run

# Start from a specific step
atmos workflow test-1 -f workflow1 --from-step step2
```

### Interactive UI

Just run `atmos workflow` without arguments to start an interactive UI to view, search, and execute workflows:

```shell
atmos workflow
```

- Use the `right/left` arrow keys to navigate between the "Workflow Manifests", "Workflows" and the selected workflow
  views

- Use the `up/down` arrow keys (or the mouse wheel) to select a workflow manifest and a workflow to execute

- Use the `/` key to filter/search for the workflow manifests and workflows in the corresponding views

- Press `Enter` to execute the selected workflow from the selected workflow manifest starting with the selected step

<Terminal title="atmos workflow (interactive)">
![`atmos workflow` CLI command 4](/img/cli/workflow/atmos-workflow-command-4.png)
</Terminal>

### Execute a Workflow

<Terminal title="atmos workflow (interactive)">
![`atmos workflow` CLI command 2](/img/cli/workflow/atmos-workflow-command-2.png)
</Terminal>

### Run Any Workflow Step

Use the `Tab` key to flip the 3rd column view between the selected workflow steps and full workflow definition.
For example:
<Terminal title="atmos workflow (interactive)">
![`atmos workflow` CLI command 3](/img/cli/workflow/atmos-workflow-command-3.png)
</Terminal>

:::tip
Run `atmos workflow --help` to see all the available options
:::

## Arguments

<dl>
  <dt>`workflow_name`</dt>
  <dd>Workflow name</dd>
</dl>

## Flags

<dl>
  <dt>`--file` / `-f` <em>(optional)</em></dt>
  <dd>File name where the workflow is defined. If omitted and the workflow name is unique, Atmos finds it automatically. If multiple workflows share the same name, Atmos presents an interactive selector.</dd>

  <dt>`--stack` / `-s` <em>(optional)</em></dt>
  <dd>Atmos stack (if provided, will override stacks defined in the workflow or workflow steps).</dd>

  <dt>`--from-step` <em>(optional)</em></dt>
  <dd>Start the workflow from the named step.</dd>

  <dt>`--dry-run` <em>(optional)</em></dt>
  <dd>Dry run. Print information about the executed workflow steps without executing them.</dd>
</dl>
