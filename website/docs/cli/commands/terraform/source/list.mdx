---
title: atmos terraform source list
sidebar_label: source list
sidebar_class_name: command
id: list
description: List Terraform components with source configuration
---
import Intro from '@site/src/components/Intro'
import Screengrab from '@site/src/components/Screengrab'
import ActionCard from '@site/src/components/ActionCard'
import PrimaryCTA from '@site/src/components/PrimaryCTA'

<Intro>
Use this command to list all Terraform components that have `source` configured. This shows which components can be vendored using the source provisioner.
</Intro>

<ActionCard title="Source-Based Version Pinning">
    Learn how to configure the `source` field for per-environment version control.
    <div>
      <PrimaryCTA to="/design-patterns/version-management/source-based-versioning">Design Pattern</PrimaryCTA>
    </div>
</ActionCard>

<Screengrab title="atmos terraform source list --help" slug="atmos-terraform-source-list--help" />

## Usage

```shell
atmos terraform source list [component] [flags]
```

## Description

The `list` command scans component configurations and displays all Terraform components that have `source` defined. This helps identify:

- Which components are configured for JIT vendoring
- The source URIs and versions for each component
- Components that may need to be vendored before use

:::tip
To list sources across all component types (Terraform, Helmfile, Packer) in a unified view, use [`atmos list sources`](/cli/commands/list/sources).
:::

## Examples

### List All Terraform Sources Across All Stacks

```shell
atmos terraform source list
```

Output:
```
STACK              COMPONENT    URI                                                           VERSION
plat-ue2-dev       eks          github.com/cloudposse/terraform-aws-components//modules/eks   1.450.0
plat-ue2-dev       vpc          github.com/cloudposse/terraform-aws-components//modules/vpc   1.450.0
plat-ue2-prod      eks          github.com/cloudposse/terraform-aws-components//modules/eks   1.451.0
plat-ue2-prod      vpc          github.com/cloudposse/terraform-aws-components//modules/vpc   1.451.0
```

### List Sources in a Specific Stack

```shell
atmos terraform source list --stack plat-ue2-dev
```

When filtering by stack, the Stack column is omitted:
```
COMPONENT    URI                                                           VERSION
eks          github.com/cloudposse/terraform-aws-components//modules/eks   1.450.0
vpc          github.com/cloudposse/terraform-aws-components//modules/vpc   1.450.0
```

### List Sources for a Specific Component

```shell
atmos terraform source list vpc
```

Shows the component across all stacks:
```
STACK              COMPONENT    URI                                                           VERSION
plat-ue2-dev       vpc          github.com/cloudposse/terraform-aws-components//modules/vpc   1.450.0
plat-ue2-prod      vpc          github.com/cloudposse/terraform-aws-components//modules/vpc   1.451.0
```

### Output in Different Formats

```shell
# JSON format
atmos terraform source list --format json

# YAML format
atmos terraform source list --format yaml

# CSV format
atmos terraform source list --format csv

# TSV format (tab-separated, for pipelines)
atmos terraform source list --format tsv
```

## Dynamic Columns

The command automatically adjusts columns based on context:

| Context | Columns Shown |
|---------|---------------|
| All stacks | Stack, Component, Folder*, URI, Version |
| Single stack (`--stack`) | Component, Folder*, URI, Version |

*The Folder column only appears when any component uses `metadata.component` to specify a different folder name than the component instance name.

## Arguments

<dl>
  <dt>`component` <em>(optional)</em></dt>
  <dd>Filter results to a specific component name or folder (`metadata.component`). When provided, only shows sources for components matching this name across all stacks.</dd>
</dl>

## Flags

<dl>
  <dt>`--stack` / `-s` <em>(optional)</em></dt>
  <dd>Filter by stack name. When provided, only shows sources within that stack and omits the Stack column from output.<br/>Environment variable: `ATMOS_STACK`</dd>

  <dt>`--format` / `-f`</dt>
  <dd>Output format: `table`, `json`, `yaml`, `csv`, `tsv` (default: `table`).<br/>Environment variable: `ATMOS_FORMAT`</dd>
</dl>

## See Also

- [Source-Based Version Pinning](/design-patterns/version-management/source-based-versioning) - Design pattern for per-environment version control
- [`atmos list sources`](/cli/commands/list/sources) - Unified view across all component types
- [`atmos terraform source`](/cli/commands/terraform/source) - Parent command overview
- [`atmos terraform source describe`](/cli/commands/terraform/source/describe) - View source configuration for a specific component
- [`atmos terraform source pull`](/cli/commands/terraform/source/pull) - Vendor a specific component
