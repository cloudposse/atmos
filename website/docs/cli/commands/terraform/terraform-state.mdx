---
title: atmos terraform state
sidebar_label: state
sidebar_class_name: command
id: state
---
import Intro from '@site/src/components/Intro'
import Screengrab from '@site/src/components/Screengrab'
import Terminal from '@site/src/components/Terminal'

<Intro>
Use this command to manage the Terraform state for an Atmos component in a stack. Supports operations like list, move, pull, push, replace-provider, rm, and show.
</Intro>

<Screengrab title="atmos terraform state --help" slug="atmos-terraform-state--help" />

## Usage

Execute the `terraform state` command like this:

```shell
atmos terraform state <component> -s <stack> [options]
```

This command provides subcommands for advanced state management. These are useful for manipulating the Terraform state when necessary, though manual state manipulation should be done carefully.

:::info Atmos Behavior
Atmos provides standard setup for this command including automatic `terraform init` and workspace selection. Additionally, Atmos blocks state modifications if the component is locked (`metadata.locked: true`). The state operations themselves are handled by native Terraform.
:::
## Examples

### List Resources in State

```shell
# List all resources in the state
atmos terraform state list vpc -s dev
```

### Show Specific Resource

```shell
# Show details of a specific resource
atmos terraform state show vpc -s dev aws_instance.web
```

### Move Resource

```shell
# Move a resource in the state
atmos terraform state mv vpc -s dev aws_instance.web aws_instance.web_server
```

### Remove Resource from State

```shell
# Remove a resource from state (doesn't destroy the actual resource)
atmos terraform state rm vpc -s dev aws_instance.web
```

## Arguments

<dl>
    <dt>`component` <em>(required)</em></dt>
    <dd>
        Atmos component name.
    </dd>
</dl>

## Flags

<dl>
    <dt>`--stack` / `-s` <em>(required)</em></dt>
    <dd>
        Atmos stack name where the component is defined.
    </dd>

    <dt>`--skip-init` <em>(optional)</em></dt>
    <dd>
        Skip running `terraform init` before executing the command.

        ```shell
        atmos terraform state vpc -s dev --skip-init
        ```
    </dd>

    <dt>`--dry-run` <em>(optional)</em></dt>
    <dd>
        Show what would be executed without actually running the command.

        ```shell
        atmos terraform state vpc -s dev --dry-run
        ```
    </dd>
</dl>

## Native Terraform Flags

This command supports native `terraform state` flags such as Subcommands include `list`, `show`, `mv`, `rm`, `pull`, `push`, `replace-provider`. Use `-state` to specify state file path..

## Related Commands

- [`atmos terraform plan`](/cli/commands/terraform/plan) - Generate execution plan
- [`atmos terraform apply`](/cli/commands/terraform/apply) - Apply changes
- [`atmos terraform init`](/cli/commands/terraform/init) - Initialize working directory
