---
title: atmos terraform workspace
sidebar_label: workspace
sidebar_class_name: command
id: workspace
description: This command calculates the `terraform` workspace for an Atmos component (from the context variables and stack config). It runs `terraform init -reconfigure` and selects the workspace by executing the `terraform workspace select` command.
---
import Screengrab from '@site/src/components/Screengrab'

:::note Purpose
Use this command to calculate the `terraform` workspace for an Atmos component (from the context variables and stack config). It will
run `terraform init -reconfigure` and then select the workspace by executing the `terraform workspace select` command.
:::

<Screengrab title="atmos terraform workspace --help" slug="atmos-terraform-workspace--help" />

## Usage

Execute the `terraform workspace` command like this:

```shell
atmos terraform workspace <component> -s <stack>
```

This command calculates the `terraform` workspace for an Atmos component (from the context variables and stack config), then
runs `terraform init -reconfigure`, then selects the workspace by executing the `terraform workspace select` command.

If the workspace does not exist, the command creates it by executing the `terraform workspace new` command.

:::tip
Run `atmos terraform workspace --help` to see all the available options
:::

## Examples

```shell
atmos terraform workspace top-level-component1 -s tenant1-ue2-dev
atmos terraform workspace infra/vpc -s tenant1-ue2-staging
atmos terraform workspace test/test-component -s tenant1-ue2-dev
atmos terraform workspace test/test-component-override-2 -s tenant2-ue2-prod
atmos terraform workspace test/test-component-override-3 -s tenant1-ue2-dev
```

## Arguments

| Argument    | Description     | Required |
|:------------|:----------------|:---------|
| `component` | Atmos component | yes      |

## Flags

| Flag                  | Description                                                                                                                                                                                                                                                                                                                                                                                       | Alias | Required |
|:----------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------|:---------|
| `--stack`             | Atmos stack                                                                                                                                                                                                                                                                                                                                                                                       | `-s`  | yes      |
| `--dry-run`           | Dry run                                                                                                                                                                                                                                                                                                                                                                                           |       | no       |
| `--process-templates` | Enable/disable Go template processing in Atmos stack manifests<br/>when executing the command.                                                                                                                                                                                                                                                                                                    |       | no       |
| `--process-functions` | Enable/disable YAML functions processing in Atmos stack manifests<br/>when executing the command.                                                                                                                                                                                                                                                                                                 |       | no       |
| `--skip`              | Skip processing a specific Atmos YAML function<br/>in Atmos stacks manifests when executing the command.<br/>To specify more than one function,<br/>use multiple `--skip` flags, or separate the functions with a comma:<br/>`atmos terraform workspace <component> -s <stack> --skip=eval --skip=include`<br/>`atmos terraform workspace <component> -s <stack> --skip=terraform.output,include` |       | no       |                                                 |       | no       |
