---
title: atmos auth shell
sidebar_label: shell
sidebar_class_name: command
id: shell
description: Launch an interactive shell with authentication environment variables configured for the selected identity.
---
import Screengrab from '@site/src/components/Screengrab'
import Intro from '@site/src/components/Intro'

<Intro>
Start an authenticated shell session with all the necessary cloud credentials pre-configured. Perfect for interactive work where you need to run multiple commands without re-authenticating each time. The shell respects your `$SHELL` preference and supports custom shell arguments.
</Intro>

<Screengrab title="atmos auth shell --help" slug="atmos-auth-shell--help" />

## Usage

```shell
atmos auth shell [--identity <name>] [--shell <path>] [-- <shell-args>...]
```

## Examples

```shell
# Launch default shell with default identity
atmos auth shell

# Use a specific identity
atmos auth shell --identity prod-admin

# Override shell program
atmos auth shell --shell /bin/zsh

# Pass custom shell arguments
atmos auth shell -- -c "env | grep AWS"

# Launch without loading shell configs
atmos auth shell -- --norc

# Combine options
atmos auth shell --identity staging-readonly --shell /bin/bash -- -c "terraform plan"
```

## Flags

<dl>
  <dt>`--identity` <em>(alias `-i`)</em></dt>
  <dd>Specify the identity to use for authentication. If omitted, the default identity is used.</dd>

  <dt>`--shell`</dt>
  <dd>Specify the shell program to use. Defaults to `$SHELL`, then `bash`, then `sh`. On Windows, defaults to `cmd.exe`.</dd>
</dl>

## Arguments

<dl>
  <dt>shell-args...</dt>
  <dd>Optional shell arguments to pass after `--`. If not provided, launches a login shell by default (`-l`).</dd>
</dl>

## Environment Variables

The shell session will have the following environment variables set:

- **`ATMOS_IDENTITY`** - The name of the authenticated identity
- **`ATMOS_SHLVL`** - Shell nesting level (increments for nested Atmos shells)
- Cloud provider credentials (e.g., `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`, `AWS_SESSION_TOKEN`)

## Notes

- Type `exit` or press `Ctrl+D` to leave the authenticated shell
- The shell can be nested; `ATMOS_SHLVL` tracks the nesting depth
- Use `--` to separate Atmos flags from shell-specific arguments
- Environment variables from authentication take precedence over existing values
