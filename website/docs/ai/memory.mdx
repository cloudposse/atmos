---
title: Project Memory
sidebar_label: Memory
sidebar_position: 5
description: Persistent project-specific context for the Atmos AI Assistant
---
import Terminal from '@site/src/components/Terminal'
import File from '@site/src/components/File'

# Project Memory

Atmos AI can remember project-specific context, patterns, and conventions using a persistent memory file (`ATMOS.md`). This allows the AI to provide consistent, context-aware responses without you having to repeatedly explain your project setup.

## What is Project Memory?

Project Memory is a markdown file (`ATMOS.md`) stored in your project root that contains:
- **Project Context**: Organization name, Atmos version, regions, environments
- **Common Commands**: Frequently used Atmos commands for your project
- **Stack Patterns**: Naming conventions and YAML structure patterns
- **Infrastructure Patterns**: Multi-region setups, component dependencies
- **Component Catalog**: Your component organization and structure
- **Team Conventions**: Development practices and documentation standards
- **Recent Learnings**: AI-discovered insights about your project

This memory is automatically included with every AI request when enabled, providing consistent context across all conversations.

## Configuration

<File title="atmos.yaml">
```yaml
settings:
  ai:
    enabled: true
    default_provider: "anthropic"
    providers:
      anthropic:
        model: "claude-sonnet-4-20250514"
        api_key_env: "ANTHROPIC_API_KEY"

    # Project memory settings
    memory:
      enabled: true                        # Enable project memory (default: false)
      file_path: "ATMOS.md"                # Memory file location (default: ATMOS.md)
      auto_update: false                   # Let AI update memory (default: false)
      create_if_missing: true              # Auto-create template (default: true)

      # Sections to include in AI context
      sections:
        - project_context                  # Basic project info
        - common_commands                  # Frequently used commands
        - stack_patterns                   # Stack naming and structure
        - frequent_issues                  # Known issues and solutions
        - infrastructure_patterns          # Multi-region, dependencies
        - component_catalog_structure      # Component organization
        - team_conventions                 # Development practices
        - recent_learnings                 # AI-discovered insights
```
</File>

## Memory Settings

<dl>
  <dt>`memory.enabled`</dt>
  <dd>Enable project memory features (default: `false`)</dd>

  <dt>`memory.file_path`</dt>
  <dd>Path to the memory file, relative to project root or absolute (default: `ATMOS.md`)</dd>

  <dt>`memory.auto_update`</dt>
  <dd>Allow AI to automatically update memory with learned insights (default: `false`). When enabled, AI can add new learnings to the Recent Learnings section.</dd>

  <dt>`memory.create_if_missing`</dt>
  <dd>Automatically create a template memory file if it doesn't exist (default: `true`)</dd>

  <dt>`memory.sections`</dt>
  <dd>List of memory sections to include in AI context. Order matters - sections appear in the specified order (default: all sections enabled)</dd>
</dl>

## Creating Your Memory File

When you enable project memory with `create_if_missing: true`, Atmos automatically creates a template `ATMOS.md` file on first use:

<Terminal title="atmos ai chat">
```bash
$ atmos ai chat

# If ATMOS.md doesn't exist, it will be created automatically
✅ Created default ATMOS.md template

# The AI will now include project memory in all requests
```
</Terminal>

Alternatively, you can create it manually:

<Terminal title="shell">
```bash
$ atmos ai memory init

✅ Created ATMOS.md template at /path/to/your/project/ATMOS.md

Edit this file to customize your project memory.
```
</Terminal>

## Memory File Structure

The `ATMOS.md` file uses markdown with specific section headers:

<File title="ATMOS.md">
```markdown
# Atmos Project Memory

> This file is automatically maintained by Atmos AI to remember project-specific
> context, patterns, and conventions. Edit freely - AI will preserve manual changes.

## Project Context

**Organization:** acme-corp
**Atmos Version:** 1.89.0
**Primary Regions:** us-east-1, us-west-2
**Environments:** dev, staging, prod

**Stack Naming Pattern:**
\```
{org}-{tenant}-{environment}-{region}-{stage}
Example: acme-core-prod-use1-network
\```

## Common Commands

### Describe and Validate
\```bash
# Describe a component
atmos describe component <component> -s <stack>

# List all stacks
atmos list stacks

# Validate stacks
atmos validate stacks
\```

### Terraform Operations
\```bash
# Plan a component
atmos terraform plan <component> -s <stack>

# Apply a component
atmos terraform apply <component> -s <stack>
\```

## Stack Patterns

### Stack Structure
\```yaml
# Common import pattern
import:
  - catalog/stacks/baseline
  - catalog/stacks/network
\```

### CIDR Blocks
- dev: 10.0.0.0/16
- staging: 10.1.0.0/16
- prod: 10.2.0.0/16

## Frequent Issues & Solutions

### Stack not found error
**Problem:** `Error: stack 'my-stack' not found`
**Solution:** Check stack naming and verify config exists in stacks/ directory

### YAML validation fails
**Problem:** `invalid YAML: mapping values are not allowed`
**Solution:** Check indentation - YAML requires consistent 2-space indents

## Infrastructure Patterns

### Multi-Region Setup
- Primary region for production workloads
- DR region with replication
- Cross-region networking configured

### Component Dependencies
\```
vpc → subnets → security-groups → rds → eks
\```

## Component Catalog Structure

\```
components/
  terraform/
    vpc/           # VPC and networking
    rds/           # RDS databases
    eks/           # EKS clusters
    s3/            # S3 buckets
\```

## Team Conventions

- All infrastructure changes require PR review
- Use `atmos validate` before committing
- Tag all resources appropriately
- Document component changes

## Recent Learnings

*AI will add notes here as it learns about the project*
```
</File>

## Customizing Memory Sections

You can control which sections are included in AI context:

<File title="atmos.yaml">
```yaml
settings:
  ai:
    memory:
      enabled: true
      # Only include essential sections for faster performance
      sections:
        - project_context
        - common_commands
        - frequent_issues
```
</File>

This reduces token usage while keeping the most relevant context.

## Manual vs Auto-Update

**Manual Updates (Recommended):**
```yaml
memory:
  enabled: true
  auto_update: false  # You control all changes
```

You edit `ATMOS.md` directly with your preferred text editor. The AI reads it but never modifies it. This gives you full control over project memory.

**Auto-Update Mode (Experimental):**
```yaml
memory:
  enabled: true
  auto_update: true  # AI can add learnings
```

The AI can append insights to the "Recent Learnings" section as it discovers patterns in your project. Other sections remain read-only.

## Memory vs Context Sharing

Project Memory and Context Sharing serve different purposes:

| Feature | Project Memory | Context Sharing |
|---------|----------------|-----------------|
| **Content** | High-level patterns, conventions, common commands | Actual stack YAML files and configurations |
| **Update frequency** | Rarely (manual or learned insights) | Every request (real-time) |
| **Size** | Small (few KB) | Large (multiple files) |
| **Privacy** | Low risk (you control content) | Higher risk (may contain secrets) |
| **Use case** | Consistent AI behavior across chats | Deep analysis of specific configs |

**Best Practice:** Enable both for optimal results:
- Memory provides consistent baseline knowledge
- Context sharing adds real-time specifics when needed

## Viewing Memory

Check what memory the AI is using:

<Terminal title="atmos ai memory show">
```bash
$ atmos ai memory show

# Displays formatted memory sections
# Shows exactly what's being sent to AI

# Project Memory (ATMOS.md)

## Project Context

**Organization:** acme-corp
**Atmos Version:** 1.89.0
...
```
</Terminal>

## Editing Memory

Edit `ATMOS.md` with any text editor:

<Terminal title="shell">
```bash
$ code ATMOS.md           # VS Code
$ vim ATMOS.md            # Vim
$ nano ATMOS.md           # Nano
```
</Terminal>

Changes take effect immediately on the next AI request.

## Privacy & Security

Project memory is **never sent to external servers** except as part of your AI requests:

- Memory file is stored locally in your project
- Only included in AI API requests when memory is enabled
- You control all content (with `auto_update: false`)
- Review `ATMOS.md` before committing to version control
- Consider adding sensitive projects to `.gitignore` if needed

## Memory File in Version Control

**Should you commit `ATMOS.md` to git?**

✅ **Yes, if:**
- Memory contains general patterns and conventions
- Team members would benefit from shared context
- No sensitive information is included

❌ **No, if:**
- Memory contains account IDs, secrets, or sensitive data
- Project is internal and context shouldn't be shared

Add to `.gitignore` if sensitive:
```
# Don't commit project memory
ATMOS.md
```

## Performance Considerations

Project memory adds tokens to every AI request:

- **Small memory** (1-2 KB): Negligible impact
- **Medium memory** (5-10 KB): ~500-1000 tokens per request
- **Large memory** (20+ KB): ~2000+ tokens per request

**Optimization tips:**
1. Only enable sections you actively use
2. Keep descriptions concise
3. Remove outdated information
4. Use `auto_update: false` to prevent growth

## Troubleshooting

**Memory not loading:**
```bash
# Check if file exists
ls -la ATMOS.md

# Verify configuration
grep -A5 "memory:" atmos.yaml

# Test with explicit enable
ATMOS_AI_MEMORY_ENABLED=true atmos ai chat
```

**AI not using memory context:**
- Verify `memory.enabled: true` in atmos.yaml
- Check that `ATMOS.md` exists in project root
- Ensure sections are properly formatted with `##` headers

**Memory file not created:**
- Set `create_if_missing: true`
- Check file permissions in project directory
- Verify Atmos has write access to project root

## Example Workflow

1. **Initialize memory:**
   ```bash
   atmos ai chat  # Auto-creates ATMOS.md if missing
   ```

2. **Customize for your project:**
   ```bash
   vim ATMOS.md  # Add your org name, patterns, conventions
   ```

3. **Use AI with memory:**
   ```bash
   atmos ai chat
   # AI now remembers your project context across all conversations
   ```

4. **Update as project evolves:**
   ```bash
   vim ATMOS.md  # Update stack patterns, add new learnings
   ```

5. **Share with team (optional):**
   ```bash
   git add ATMOS.md
   git commit -m "docs: Add Atmos AI project memory"
   git push
   ```

## Related Documentation

- [AI Configuration](/ai/configuration) - Configure AI provider settings
- [AI Sessions](/ai/sessions) - Persistent conversation management
- [AI Tools](/ai/tools) - Available tools and permissions
