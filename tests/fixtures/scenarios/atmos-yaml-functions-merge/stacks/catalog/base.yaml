# Base catalog with YAML functions
# This simulates a reusable catalog that uses YAML functions

components:
  terraform:
    base-component:
      metadata:
        type: abstract
        component: yaml-function-test
      vars:
        # YAML function that will be overridden
        template_config: !template '{{ toJson .settings.base_config }}'

        # YAML function that returns a list (using template)
        vpc_ids: !template '{{ list "vpc-111" "vpc-222" "vpc-333" | toJson }}'

        # YAML function that returns a map (using template)
        network_config: !template '{{ dict "vpc_id" "vpc-base" "region" .vars.region | toJson }}'

        # Regular values for comparison
        environment: "base"
        region: "us-east-1"

      settings:
        base_config:
          enabled: true
          timeout: 30
          retries: 3
