# yaml-language-server: $schema=https://atmos.tools/schemas/atmos/atmos-manifest/1.0/atmos-manifest.json

vars:
  stage: prod

import:
  - catalog/aws/bastion/defaults
  - catalog/aws/multi-file/defaults

components:
  packer:
    aws/bastion:
      vars:
        # Define the variables specific to the `prod` account
        instance_type: "t4g.medium"
        volume_size: 16
        assume_role_arn: "arn:aws:iam::PROD_ACCOUNT_ID:role/ROLE_NAME"
        ami_tags:
          Stage: prod

    # Multi-file component test - uses directory mode (no template specified)
    aws/multi-file:
      vars:
        instance_type: "t3.micro"
        tags:
          Stage: prod
