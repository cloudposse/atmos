# yaml-language-server: $schema=https://atmos.tools/schemas/atmos/atmos-manifest/1.0/atmos-manifest.json

# https://developer.hashicorp.com/packer/integrations/hashicorp/amazon/latest/components/builder/ebs

components:
  packer:
    aws/bastion:
      metadata:
        component: aws/bastion
      vars:
        ami_name: "bastion"
        ami_owner: "099720109477" # Canonical
        org_arn: "arn:aws:organizations::123456789012:organization/o-abcde12345"
        kms_key_arn: "arn:aws:kms:us-east-1:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab"
        ssh_username: "ubuntu"
        volume_type: "gp3"
        encrypt_boot: true
        skip_create_ami: true
        manifest_file_name: "manifest.json"
        manifest_strip_path: true
        ami_tags:
          ScanStatus: pending
