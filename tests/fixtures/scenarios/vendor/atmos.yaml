base_path: "./"

components:
  terraform:
    base_path: "components/terraform"
    apply_auto_approve: false
    deploy_run_init: true
    init_run_reconfigure: true
    auto_generate_backend_file: false

stacks:
  base_path: "stacks"
  included_paths:
    - "deploy/**/*"
  excluded_paths:
    - "**/_defaults.yaml"
  name_pattern: "{stage}"

vendor:  
  # Single file
  base_path: "./vendor.yaml"
  list:
    columns:
      - name: Component
        value: "{{ .atmos_component }}"
      - name: Type
        value: "{{ .type }}"
      - name: Manifest
        value: "{{ .atmos_vendor_file }}"
      - name: Folder
        value: "{{ .atmos_vendor_folder }}"
#      - name: Description
#        value: "{{ .atmos_vendor_version }}"
#      - name: Folder
#        value: "foo" # TODO
  ## Currently custom columns doesn't work as this prints off the valid folder name, regardless of the value
        
  # Directory with multiple files
  #base_path: "./vendor"
  
  # Absolute path
  #base_path: "vendor.d/vendor1.yaml"

logs:
  file: "/dev/stderr"
  level: Info

# Custom CLI commands

# No arguments or flags are required
commands:
- name: "test"
  description: "Run all tests"
  steps:
  - atmos vendor pull --everything
