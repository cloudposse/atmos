# yaml-language-server: $schema=https://atmos.tools/schemas/atmos/atmos-manifest/1.0/atmos-manifest.json

vars:
  stage: nonprod

components:
  terraform:
    component-1:
      vars:
        foo: '{{ atmos.Store "redis" "prod" "vpc" "cidr" }}'
        bar: '{{ (atmos.Store "redis" .stack "c2" "map").c.d }}'
        lambda_environment:
          ENGINE_CONFIG_JSON: >
            {
              "vpc_cidr": "{{ atmos.Store "redis" "prod" "vpc" "cidr" }}"
              "c_e": "{{ (atmos.Store "redis" .stack "c2" "map").c.e }}"
            }
