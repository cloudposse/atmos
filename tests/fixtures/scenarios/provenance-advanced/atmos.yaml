# Minimal atmos.yaml for provenance testing (quickstart-advanced style)
# Custom commands removed to avoid flag conflicts with --stack

base_path: "."

components:
  terraform:
    command: terraform
    base_path: "components/terraform"
    apply_auto_approve: false
    deploy_run_init: true
    init_run_reconfigure: true
    auto_generate_backend_file: true

stacks:
  base_path: "stacks"
  included_paths:
    - "orgs/**/*"
  excluded_paths:
    - "**/_defaults.yaml"
  name_pattern: "{tenant}-{environment}-{stage}"

logs:
  file: "/dev/stderr"
  level: Info

templates:
  settings:
    enabled: true
    evaluations: 1
    sprig:
      enabled: true
    gomplate:
      enabled: true
      datasources: {}

settings:
  list_merge_strategy: replace
