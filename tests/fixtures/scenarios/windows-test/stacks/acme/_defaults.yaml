# acme namespace defaults
# Uses a dedicated tfstate bucket for acme-managed resources
#
# These values can be customized via `atmos bootstrap configure`
# which updates this file with your environment settings.
import:
  - acme/_config

terraform:
  vars:
    label_order:
      - namespace
      - environment
      - name
      - attributes
    descriptor_formats:
      account_name:
        format: "%v"
        labels:
          - namespace
      stack:
        format: "%v"
        labels:
          - namespace
          - environment

  backend_type: s3
  backend:
    s3:
      acl: bucket-owner-full-control
      # This is set in the _config.yaml
      # bucket: ctx-usw2-tfstate
      encrypt: true
      key: terraform.tfstate
      region: us-west-2
      use_lockfile: true
  provision:
    backend:
      enabled: true
  remote_state_backend:
    s3: {}
