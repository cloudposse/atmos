# DynamoDB component defaults for OpenNext ISR tag cache
components:
  terraform:
    dynamodb/defaults:
      metadata:
        type: abstract
        component: dynamodb
      vars:
        enabled: true
        # Pay-per-request is simpler for variable workloads
        billing_mode: PAY_PER_REQUEST
        # Enable encryption
        encryption_enabled: true
        # Hash key is the cache tag
        hash_key: tag
        hash_key_type: S
        # Range key for path
        range_key: path
        range_key_type: S
        # Point-in-time recovery not needed for cache data
        point_in_time_recovery_enabled: false
        # TTL for automatic expiration of cache entries
        ttl_enabled: true
        ttl_attribute: revalidatedAt
        # No deletion protection for cache table
        deletion_protection_enabled: false
