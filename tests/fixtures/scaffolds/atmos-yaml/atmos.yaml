# Atmos CLI Configuration
# https://atmos.tools/cli/configuration

base_path: "."

components:
  terraform:
    base_path: "components/terraform"
    apply_auto_approve: false
    deploy_run_init: true
    init_run_reconfigure: true
    auto_generate_backend_file: true
    plan:
      skip_planfile: false

  helmfile:
    base_path: "components/helmfile"
    kubeconfig_path: "/dev/shm"
    helm_aws_profile_pattern: "{{ .vars.aws_profile }}"
    cluster_name_pattern: "{{ .vars.cluster_name }}"

stacks:
  base_path: "stacks"
  included_paths:
    - "**/*"
  excluded_paths:
    - "**/_defaults.yaml"
  name_template: "{{ .vars.stage }}"

workflows:
  base_path: "workflows"

logs:
  level: Info
  file: ""

settings:
  terminal:
    max_width: 120
    pager: true
    unicode: true

  markdown:
    document:
      color: "#FFFFFF"
    heading:
      color: "#00A3E0"
      bold: true
    code_block:
      color: "#00A3E0"
      margin: 1
    link:
      color: "#00A3E0"
      underline: true

templates:
  settings:
    enabled: true
    evaluations: 1
    sprig:
      enabled: true
    gomplate:
      enabled: true
      timeout: 10
      datasources: {}
