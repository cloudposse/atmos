# yaml-language-server: $schema=https://raw.githubusercontent.com/cloudposse/atmos/refs/heads/main/tests/test-cases/schema.json
tests:
  - name: atmos validate editorconfig
    enabled: true
    snapshot: true
    description: "Ensure atmos CLI validates success case"
    workdir: "../examples/quick-start-simple/"
    command: "atmos"
    args:
      - "validate"
      - "editorconfig"
    expect:
      timeout: 10s
      diff:
        - "Update available!"
      stdout:
        - "No errors found"
      stderr:
        - "^$"
      exit_code: 0
  - name: atmos validate editorconfig error
    enabled: true
    snapshot: true
    description: "Ensure atmos CLI gives error during validation based on editorconfig"
    workdir: "fixtures/scenarios/editorconfig"
    command: "atmos"
    args:
      - "validate"
      - "editorconfig"
    expect:
      timeout: 10s
      diff:
        - "Update available!"
      stdout:
        - "1 errors found"
      exit_code: 1
