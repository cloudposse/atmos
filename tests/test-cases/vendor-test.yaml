# yaml-language-server: $schema=https://raw.githubusercontent.com/cloudposse/atmos/refs/heads/main/tests/test-cases/schema.json

tests:
  - name: atmos vendor pull without vendoring configured
    enabled: true
    description: "Ensure atmos vendor pull command fails without vendor file."
    workdir: "fixtures/scenarios/empty-dir"
    command: "atmos"
    args:
      - "vendor"
      - "pull"
    expect:
      timeout: 5s
      stderr:
        #- "Vendoring is not configured. To set up vendoring, please see https://atmos.tools/core-concepts/vendor/"

        # This is a regression. It should not show this message below.
        - "the '--everything' flag is set, but the vendor config file 'vendor' does not exist"
      exit_code: 1
