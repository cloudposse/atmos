
ðŸ‘½ test linux/amd64

Generate an execution plan, which shows what actions Terraform will take to     
reach the desired state of the configuration.                                   
                                                                                
This command shows what Terraform will do when you run 'apply'. It helps you    
verify changes before making them to your infrastructure.                       
                                                                                
For complete Terraform/OpenTofu documentation, see:                             
https://developer.hashicorp.com/terraform/cli/commands/plan                     
https://opentofu.org/docs/cli/commands/plan                                     

USAGE

                                    
    $ atmos terraform plan [flags]  
                                    

EXAMPLES

                                                              
    â€“ Execute a terraform plan                                
                                                              
                                                              
     $ atmos terraform plan <component-name> -s <stack-name>  
                                                              

FLAGS

      --affected       Plan the affected components in dependency order

      --all            Plan all components in all stacks

  -h, --help           help for plan

      --skip-planfile  Skip writing the plan to a file by not passing the -out flag to Terraform when executing the
                       command. Set it to true when using Terraform Cloud since the -out flag is not supported.
                       Terraform Cloud automatically stores plans in its backend

      --upload-status  If set atmos will upload the plan result to the pro API


GLOBAL FLAGS

      --append-user-agent string           Customize User-Agent string in Terraform provider requests (sets
                                           TF_APPEND_USER_AGENT)

      --auto-generate-backend-file string  Override auto_generate_backend_file setting from atmos.yaml (true/false)

      --base-path string                   Base path for Atmos project

  -C, --chdir string                       Change working directory before executing the command (run as if Atmos
                                           started in this directory)

      --clone-target-ref                   Clone the target reference with which to compare the current branch

      --components strings                 Filter by specific components

      --config strings                     Paths to configuration files (comma-separated or repeated flag)

      --config-path strings                Paths to search for Atmos configuration (comma-separated or repeated flag)

      --deploy-run-init string             Override deploy_run_init setting from atmos.yaml (true/false)

      --dry-run                            Perform dry run without making actual changes

      --force-color                        Force color output even when not a TTY (useful for screenshots)

      --force-tty                          Force TTY mode with sane defaults when terminal detection fails (useful for
                                           screenshots)

      --heatmap                            Show performance heatmap visualization after command execution (includes
                                           P95 latency)

      --heatmap-mode string                Heatmap visualization mode: bar, sparkline, table (press 1-3 to switch in
                                           TUI) (default bar)

  -i, --identity string                    Specify the identity to authenticate to before running Terraform commands.
                                           Use without value to interactively select.

      --include-dependents                 For each affected component, detect the dependent components and process
                                           them in the dependency order

      --init-pass-vars                     Pass the generated varfile to terraform init using --var-file flag (OpenTofu
                                           feature)

      --init-run-reconfigure string        Override init_run_reconfigure setting from atmos.yaml (true/false)

      --interactive                        Enable interactive prompts for missing required flags, optional value flags
                                           using the sentinel pattern, and missing positional arguments (requires TTY,
                                           disabled in CI) (default true)

      --logs-file string                   The file to write Atmos logs to. Logs can be written to any file or any
                                           standard file descriptor, including '/dev/stdout', '/dev/stderr' and
                                           '/dev/null' (default /dev/stderr)

      --logs-level string                  Logs level. Supported log levels are Trace, Debug, Info, Warning, Off. If
                                           the log level is set to Off, Atmos will not log any messages (default
                                           Warning)

      --mask                               Enable automatic masking of sensitive data in output (use --mask=false to
                                           disable) (default true)

      --no-color                           Disable color output

      --pager string                       Enable pager for output (--pager or --pager=true to enable, --pager=false to
                                           disable, --pager=less to use specific pager)

      --planfile string                    Path to a terraform plan file to use instead of generating a new plan

      --process-functions                  Enable/disable YAML functions processing in Atmos stack manifests (default
                                           true)

      --process-templates                  Enable/disable Go template processing in Atmos stack manifests (default
                                           true)

      --profile strings                    Activate configuration profiles (comma-separated or repeated flag)

      --profile-file string                Write profiling data to file instead of starting server

      --profile-type string                Type of profile to collect when using --profile-file. Options: cpu, heap,
                                           allocs, goroutine, block, mutex, threadcreate, trace (default cpu)

      --profiler-enabled                   Enable pprof profiling server

      --profiler-host string               Host for pprof profiling server (default localhost)

      --profiler-port int                  Port for pprof profiling server (default 6060)

  -q, --query string                       Execute atmos terraform command on components filtered by a YQ expression

      --redirect-stderr string             File descriptor to redirect stderr to. Errors can be redirected to any file
                                           or any standard file descriptor (including '/dev/null')

      --ref string                         Git reference with which to compare the current branch

      --repo-path string                   Filesystem path to the already cloned target repository with which to
                                           compare the current branch

      --sha string                         Git commit SHA with which to compare the current branch

      --skip strings                       Skip executing specific YAML functions in the Atmos stack manifests

      --skip-init                          Skip terraform init before running command

      --ssh-key string                     Path to PEM-encoded private key to clone private repos using SSH

      --ssh-key-password string            Encryption password for the PEM-encoded private key if the key contains a
                                           password-encrypted PEM block

  -s, --stack string                       Stack name

  -v, --verbose                            Enable verbose error output with full context, stack traces, and detailed
                                           information

      --version                            Display the Atmos CLI version


COMPATIBILITY FLAGS

  These flags are passed through to the underlying terraform/tofu command.

      -compact-warnings     Show warnings in a more compact form
      -destroy              Create a plan to destroy all remote objects
      -detailed-exitcode    Return detailed exit codes (0=success, 1=error, 2=changes)
      -generate-config-out  Write HCL for resources to import
      -input                Ask for input for variables if not directly set (default: true)
      -json                 Output plan in a machine-readable JSON format
      -lock                 Lock the state file when locking is supported (default: true)
      -lock-timeout         Duration to retry a state lock (default: 0s)
      -no-color             Disable color output in the command output
      -out                  Write the plan to the given path
      -parallelism          Limit the number of concurrent operations (default: 10)
      -refresh              Update state prior to checking for differences (default: true)
      -refresh-only         Create a plan to update state only (no resource changes)
      -replace              Force replacement of a particular resource instance
      -target               Target specific resources for planning/applying
      -var                  Set a value for one of the input variables
      -var-file             Load variable values from the given file

