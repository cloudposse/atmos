# `import` supports POSIX-style Globs for file names/paths (double-star `**` is supported)
# https://en.wikipedia.org/wiki/Glob_(programming)
# https://pkg.go.dev/gopkg.in/godo.v2/glob
# https://github.com/bmatcuk/doublestar
# File extensions are optional (if not specified, `.yaml` is used by default)
import:
  - catalog/terraform/mixins/mixin-*.*

components:
  terraform:
    "test/test-component-override-3":
      settings:
        spacelift:
          workspace_enabled: false
      vars: {}
      env:
        TEST_ENV_VAR1: "val1-override-3"
        TEST_ENV_VAR2: "val2-override-3"
        TEST_ENV_VAR3: "val3-override-3"
        TEST_ENV_VAR4: "val4-override-3"
      metadata:
        # `real` is implicit, you don't need to specify it; `abstract` makes the component protected from being deployed
        type: real
        # Terraform component
        component: "test/test-component"
        # Multiple inheritance
        # All base components and mixins are processed in the order they are specified in the `inherit` list
        # `test/test-component-override-2` overrides `test/test-component-override` and its base components (all the way up its inheritance chain)
        # `mixin-1` overrides `test/test-component-override-2` (all the way up its inheritance chain)
        # `mixin-2` overrides `mixin-1` (all the way up its inheritance chain)
        # Inheritance: test/test-component-override-3 -> mixin-2 -> mixin-1 -> test/test-component-override-2 -> test/test-component-override -> test/test-component
        inherit:
          - "test/test-component-override"
          - "test/test-component-override-2"
          - "mixin-1"
          - "mixin-2"
