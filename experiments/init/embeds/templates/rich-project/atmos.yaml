# Atmos CLI Configuration
# Generated by: atmos init rich-project

# Base path for components and stacks
base_path: .

# Components configuration
components:
  terraform:
    base_path: components/terraform
    apply_auto_approve: false
    deploy_run_init: true
    vars:
      enabled: true
      files:
        - "*.tfvars"
        - "*.tfvars.json"
      env:
        TF_VAR_environment: "{{ .Config.environment }}"
        TF_VAR_cloud_provider: "{{ .Config.cloud_provider }}"
        TF_VAR_project_name: "{{ .Config.project_name }}"
        TF_VAR_author: "{{ .Config.author }}"
        TF_VAR_year: "{{ .Config.year }}"
        TF_VAR_license: "{{ .Config.license }}"
        TF_VAR_terraform_version: "{{ .Config.terraform_version }}"
        {{ if .Config.regions }}
        {{ if (kindIs "slice" .Config.regions) }}
        {{ range .Config.regions }}
        TF_VAR_region_{{ replace . "-" "_" }}: "{{ . }}"
        {{ end }}
        {{ else }}
        TF_VAR_regions: "{{ .Config.regions }}"
        {{ end }}
        {{ end }}
        {{ if .Config.enable_monitoring }}
        TF_VAR_enable_monitoring: "{{ .Config.enable_monitoring }}"
        {{ end }}
        {{ if .Config.enable_logging }}
        TF_VAR_enable_logging: "{{ .Config.enable_logging }}"
        {{ end }}

